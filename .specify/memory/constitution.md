# Evolution of Todo Constitution
<!-- Global Project Constitution for Hackathon II - 5-Phase Todo App Evolution -->

## Core Principles

### I. Spec-Driven Development Only
Every feature, file, function, and deployment step MUST begin with a detailed Markdown specification and constitution. No code is written without prior documented specification. This ensures traceability, reviewability, and consistency across all phases.

**Rationale**: Spec-Driven Development provides a single source of truth, enables parallel workstreams, and ensures all stakeholders understand requirements before implementation begins.

### II. No Manual Coding
All code (Python, Next.js, FastAPI, Dockerfiles, Helm charts, etc.) MUST be generated by Claude Code after refining specifications. Manual coding is prohibited except for configuration files explicitly marked as exception by constitution amendment.

**Rationale**: Automated code generation ensures consistency with specifications, reduces human error, and enables reproducible builds across all environments.

### III. Reusable Intelligence
Agents, subagents, and skills MUST be created and reused across phases for bonus points. Every agent and skill created in Phase I MUST be designed for reusability in Phases II-V without modification.

**Rationale**: Reusable intelligence is worth +600 bonus points and ensures architectural consistency as the project evolves through five phases.

### IV. Iterative Evolution
Each phase builds directly on the previous one. No breaking changes are allowed between phases. Phase V implementation MUST be able to import/use code from Phase I without modifications.

**Rationale**: Iterative evolution ensures cumulative value, reduces rework, and validates architectural decisions progressively.

### V. Hackathon Compliance
All work MUST align with Hackathon II rules, timelines, and scoring criteria. The constitution MAY be amended only during official hackathon amendment windows with proper documentation.

**Rationale**: Compliance ensures eligibility for scoring and fair competition.

## Project Scope & Phases

The project evolves through exactly five phases, each building on the previous:

| Phase | Name | Technology | Features |
|-------|------|------------|----------|
| I | In-Memory Python Console App | Python 3.13+, Stdlib only | Basic 5 features |
| II | Full-Stack Web Application | Next.js + FastAPI + Neon DB | + Web UI + Auth |
| III | AI-Powered Todo Chatbot | OpenAI Agents SDK + MCP SDK | + Natural Language |
| IV | Local Kubernetes Deployment | Minikube + Docker + Helm | + Containerization |
| V | Advanced Cloud Deployment | DOKS + Kafka + Dapr | + Event-Driven |

**Rationale**: Clear phase progression enables incremental value delivery and validates architectural decisions at each stage.

## Global Architecture Rules

### Monorepo Structure
Single repository with clear folder structure:
- `/specs` - Feature specifications and plans
- `/src` - Single project source (or `/frontend`, `/backend` for multi-project)
- `/infra` - Infrastructure as code
- `/agents` - Agent definitions
- `/skills` - Reusable skills owned by agents
- `/.claude` - Claude Code configuration

### Technology Stack Progression
MUST follow exact stack per phase with no deviations:
- Phase I: Python 3.13+, standard library only
- Phase II: Add Next.js, FastAPI, Neon Serverless PostgreSQL, Better Auth
- Phase III: Add OpenAI ChatKit, Agents SDK, MCP SDK
- Phase IV: Add Docker, Minikube, Helm, kubectl-ai
- Phase V: Add DigitalOcean Kubernetes, Kafka, Dapr

### Database
Neon Serverless PostgreSQL from Phase II onwards with multi-user isolation.

### Authentication
Better Auth (JWT) from Phase II onwards.

### Deployment Pipeline
Docker → Minikube → DigitalOcean Kubernetes (in order).

### Event-Driven Architecture
Kafka + Dapr enabled in Phase V only.

### AI Integration
OpenAI ChatKit, Agents SDK, MCP SDK from Phase III only.

**Rationale**: Strict technology progression ensures incremental learning and validates each layer before adding complexity.

## Feature Progression

### Basic Level (Mandatory in Phase I)
- Add Task
- Delete Task
- Update Task
- View Task List
- Mark as Complete

### Intermediate Level (Recommended by Phase V)
- Priorities & Tags/Categories
- Search & Filter
- Sort Tasks

### Advanced Level (Mandatory in Phase V)
- Recurring Tasks
- Due Dates & Time Reminders (browser notifications in web)

**Rationale**: Feature progression enables MVP delivery in Phase I with continuous value addition across phases.

## Bonus Requirements (+600 Points)

| Bonus | Points | Requirement |
|-------|--------|-------------|
| Reusable Intelligence | +200 | Agents and skills created and reused across phases |
| Cloud-Native Blueprints | +200 | Agent skills for Kubernetes and cloud deployment |
| Multi-language Support | +100 | Urdu language support in chatbot (Phase III) |
| Voice Commands | +200 | Voice input/output capability |

**Rationale**: Bonus requirements provide differentiation and additional scoring opportunities.

## Development Process (All Phases)

1. Write Markdown Constitution + Spec for every feature/component
2. Review with Review Agent using QA skills (qa.quality-audit, qa.requirements-compliance, qa.test-execution-plan)
3. Generate plan and tasks using `/sp.plan` and `/sp.tasks`
4. Use Claude Code to generate implementation
5. Validate with Review Agent using QA skills
6. Deploy and demo per phase timeline

**Rationale**: Standardized process ensures consistency and quality across all development work.

## Agents & Reusable Intelligence

### Main Agent
- **Spec Manager**: Central orchestrator for Spec-Driven Development

### Core Subagents
- **Domain Expert**: Business logic validation, edge case identification
- **Python CLI Agent**: Phase I implementation specialist
- **Web Dev Agent**: Phase II+ implementation specialist
- **AI Agent Specialist**: Phase III+ AI integration
- **DevOps Agent**: Phase IV-V deployment specialist

### Skills
Skills MUST be owned by specific agents and stored in `.claude/skills`:
- Review Agent skills: `qa.quality-audit.md`, `qa.requirements-compliance.md`, `qa.test-execution-plan.md`
- Additional skills MUST follow same pattern

**Rationale**: Clear agent ownership enables targeted skill invocation and responsibility assignment.

## Rules & Constraints

### Technology Constraints
- No external dependencies beyond specified stack per phase
- No file I/O in Phase I (in-memory only)
- No database in Phase I
- No web framework in Phase I
- No containers in Phase I

### Submission Requirements
All submissions via Google Form with:
- GitHub repository URL
- Demo video URL
- Architecture documentation

### Code Quality Standards
- PEP 8 compliance for Python code
- Full type hints on all functions
- Docstrings on all public functions
- No commented-out code
- No placeholder comments

**Rationale**: Constraints ensure focused learning and fair evaluation.

## Governance

### Amendment Procedure
Constitution amendments MUST:
1. Be documented with rationale
2. Pass Review Agent validation
3. Update version according to semantic versioning rules
4. Be committed with version-bumped commit message

### Versioning Policy
- **MAJOR**: Backward incompatible governance/principle changes
- **MINOR**: New principles or materially expanded guidance
- **PATCH**: Clarifications, wording, typo fixes

### Compliance Review
All PRs/reviews MUST verify compliance with:
- Phase-appropriate technology constraints
- Agent ownership rules
- Skill documentation standards
- Code quality requirements

**Rationale**: Governance ensures consistent evolution and fair application of rules.

---

**Version**: 1.0.0 | **Ratified**: 2025-01-01 | **Last Amended**: 2025-01-01
